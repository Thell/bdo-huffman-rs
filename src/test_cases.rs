#[derive(Debug, Clone, Copy)]
pub struct Case {
    pub name: &'static str,
    pub main_category: u32,
    pub sub_category: u32,
}

impl std::fmt::Display for Case {
    fn fmt(&self, f: &mut std::fmt::Formatter) -> std::fmt::Result {
        f.write_str(self.name)
    }
}

impl Case {
    pub fn request(&self) -> Vec<u8> {
        let filepath = env!("CARGO_MANIFEST_DIR");
        let filepath = format!(
            "{}/sample_data/GetWorldMarketList_{}_{}.bin",
            filepath, self.main_category, self.sub_category
        );
        let filename = std::path::Path::new(&filepath);
        std::fs::read(filename).unwrap()
    }
}

#[rustfmt::skip]
pub const ALL_CASES: &[Case] = &[
    Case { name: "large (msg_len=70.5k)", main_category: 55, sub_category: 4 },
    Case { name: "large_medium (msg_len=33.3k)", main_category: 55, sub_category: 3  },
    Case { name: "medium (msg_len=22.5k)", main_category: 55, sub_category: 2  },
    Case { name: "medium_small (msg_len=11.1k)", main_category: 55, sub_category: 1  },
    Case { name: "small (msg_len=5.5k)", main_category: 25, sub_category: 2  },
    Case { name: "small_min (msg_len=40b)", main_category: 75, sub_category: 6  },
];

// The following are used in tests and benches in nested modules and will report as unused.
#[allow(unused)]
pub(crate) const TEST_BYTES: [u8; 136] = [
    136, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 0, 6, 0, 0, 0, 45, 0, 0, 0, 11, 0, 0, 0, 48, 0, 0, 0, 3, 0,
    0, 0, 49, 0, 0, 0, 1, 0, 0, 0, 50, 0, 0, 0, 2, 0, 0, 0, 51, 0, 0, 0, 1, 0, 0, 0, 52, 0, 0, 0,
    6, 0, 0, 0, 53, 0, 0, 0, 2, 0, 0, 0, 54, 0, 0, 0, 2, 0, 0, 0, 55, 0, 0, 0, 3, 0, 0, 0, 56, 0,
    0, 0, 1, 0, 0, 0, 57, 0, 0, 0, 2, 0, 0, 0, 124, 0, 0, 0, 128, 0, 0, 0, 16, 0, 0, 0, 40, 0, 0,
    0, 229, 144, 115, 255, 244, 122, 27, 209, 242, 203, 103, 48, 153, 43, 90, 163,
];

#[allow(unused)]
pub(crate) const EXPECTED_MESSAGE: &str = "53801-0-55556-41900|53802-0-16807-70000|";

#[allow(unused)]
pub(crate) const EXPECTED_POP_ORDER: [Option<u8>; 12] = [
    Some(50),
    Some(57),
    Some(52),
    Some(54),
    Some(55),
    Some(51),
    Some(124),
    Some(56),
    Some(49),
    Some(53),
    Some(45),
    Some(48),
];

#[allow(unused)]
pub(crate) const EXPECTED_PREFIXES: [(&str, &str); 12] = [
    ("0", "10"),
    ("1", "000"),
    ("2", "110110"),
    ("3", "0010"),
    ("4", "11010"),
    ("5", "111"),
    ("6", "0100"),
    ("7", "0101"),
    ("8", "1100"),
    ("9", "110111"),
    ("-", "011"),
    ("|", "0011"),
];

#[rustfmt::skip]
#[allow(unused)]
pub(crate) const EXPECTED_SYMBOL_TABLE: [(u8, u32); 12] = [
    (45, 6), (48, 11), (49, 3), (50, 1), (51, 2), (52, 1),
    (53, 6), (54, 2), (55, 2), (56, 3), (57, 1), (124, 2),
];

#[rustfmt::skip]
pub const SAMPLE_CASES: &[Case] = &[
    Case { name: "1_1", main_category: 1, sub_category: 1 },
    Case { name: "1_2", main_category: 1, sub_category: 2 },
    Case { name: "1_3", main_category: 1, sub_category: 3 },
    Case { name: "1_4", main_category: 1, sub_category: 4 },
    Case { name: "1_5", main_category: 1, sub_category: 5 },
    Case { name: "1_6", main_category: 1, sub_category: 6 },
    Case { name: "1_7", main_category: 1, sub_category: 7 },
    Case { name: "1_8", main_category: 1, sub_category: 8 },
    Case { name: "1_9", main_category: 1, sub_category: 9 },
    Case { name: "1_10", main_category: 1, sub_category: 10 },
    Case { name: "1_11", main_category: 1, sub_category: 11 },
    Case { name: "1_12", main_category: 1, sub_category: 12 },
    Case { name: "1_13", main_category: 1, sub_category: 13 },
    Case { name: "1_14", main_category: 1, sub_category: 14 },
    Case { name: "1_15", main_category: 1, sub_category: 15 },
    Case { name: "1_16", main_category: 1, sub_category: 16 },
    Case { name: "1_17", main_category: 1, sub_category: 17 },
    Case { name: "1_18", main_category: 1, sub_category: 18 },
    Case { name: "1_19", main_category: 1, sub_category: 19 },
    Case { name: "1_20", main_category: 1, sub_category: 20 },
    Case { name: "1_21", main_category: 1, sub_category: 21 },
    Case { name: "1_22", main_category: 1, sub_category: 22 },
    Case { name: "5_1", main_category: 5, sub_category: 1 },
    Case { name: "5_2", main_category: 5, sub_category: 2 },
    Case { name: "5_3", main_category: 5, sub_category: 3 },
    Case { name: "5_4", main_category: 5, sub_category: 4 },
    Case { name: "5_5", main_category: 5, sub_category: 5 },
    Case { name: "5_6", main_category: 5, sub_category: 6 },
    Case { name: "5_7", main_category: 5, sub_category: 7 },
    Case { name: "5_8", main_category: 5, sub_category: 8 },
    Case { name: "5_9", main_category: 5, sub_category: 9 },
    Case { name: "5_10", main_category: 5, sub_category: 10 },
    Case { name: "5_11", main_category: 5, sub_category: 11 },
    Case { name: "5_12", main_category: 5, sub_category: 12 },
    Case { name: "5_13", main_category: 5, sub_category: 13 },
    Case { name: "5_14", main_category: 5, sub_category: 14 },
    Case { name: "5_15", main_category: 5, sub_category: 15 },
    Case { name: "5_16", main_category: 5, sub_category: 16 },
    Case { name: "5_17", main_category: 5, sub_category: 17 },
    Case { name: "5_18", main_category: 5, sub_category: 18 },
    Case { name: "5_19", main_category: 5, sub_category: 19 },
    Case { name: "5_20", main_category: 5, sub_category: 20 },
    Case { name: "10_1", main_category: 10, sub_category: 1 },
    Case { name: "10_2", main_category: 10, sub_category: 2 },
    Case { name: "10_3", main_category: 10, sub_category: 3 },
    Case { name: "10_4", main_category: 10, sub_category: 4 },
    Case { name: "10_5", main_category: 10, sub_category: 5 },
    Case { name: "10_6", main_category: 10, sub_category: 6 },
    Case { name: "10_7", main_category: 10, sub_category: 7 },
    Case { name: "10_8", main_category: 10, sub_category: 8 },
    Case { name: "10_9", main_category: 10, sub_category: 9 },
    Case { name: "10_10", main_category: 10, sub_category: 10 },
    Case { name: "10_11", main_category: 10, sub_category: 11 },
    Case { name: "10_12", main_category: 10, sub_category: 12 },
    Case { name: "10_13", main_category: 10, sub_category: 13 },
    Case { name: "10_14", main_category: 10, sub_category: 14 },
    Case { name: "10_15", main_category: 10, sub_category: 15 },
    Case { name: "10_16", main_category: 10, sub_category: 16 },
    Case { name: "10_17", main_category: 10, sub_category: 17 },
    Case { name: "10_19", main_category: 10, sub_category: 19 },
    Case { name: "10_20", main_category: 10, sub_category: 20 },
    Case { name: "10_21", main_category: 10, sub_category: 21 },
    Case { name: "10_22", main_category: 10, sub_category: 22 },
    Case { name: "10_23", main_category: 10, sub_category: 23 },
    Case { name: "10_24", main_category: 10, sub_category: 24 },
    Case { name: "10_25", main_category: 10, sub_category: 25 },
    Case { name: "10_26", main_category: 10, sub_category: 26 },
    Case { name: "10_27", main_category: 10, sub_category: 27 },
    Case { name: "10_28", main_category: 10, sub_category: 28 },
    Case { name: "15_1", main_category: 15, sub_category: 1 },
    Case { name: "15_2", main_category: 15, sub_category: 2 },
    Case { name: "15_3", main_category: 15, sub_category: 3 },
    Case { name: "15_4", main_category: 15, sub_category: 4 },
    Case { name: "15_5", main_category: 15, sub_category: 5 },
    Case { name: "15_6", main_category: 15, sub_category: 6 },
    Case { name: "20_1", main_category: 20, sub_category: 1 },
    Case { name: "20_2", main_category: 20, sub_category: 2 },
    Case { name: "20_3", main_category: 20, sub_category: 3 },
    Case { name: "20_4", main_category: 20, sub_category: 4 },
    Case { name: "25_1", main_category: 25, sub_category: 1 },
    Case { name: "25_2", main_category: 25, sub_category: 2 },
    Case { name: "25_3", main_category: 25, sub_category: 3 },
    Case { name: "25_4", main_category: 25, sub_category: 4 },
    Case { name: "25_5", main_category: 25, sub_category: 5 },
    Case { name: "25_6", main_category: 25, sub_category: 6 },
    Case { name: "25_7", main_category: 25, sub_category: 7 },
    Case { name: "25_8", main_category: 25, sub_category: 8 },
    Case { name: "30_1", main_category: 30, sub_category: 1 },
    Case { name: "30_2", main_category: 30, sub_category: 2 },
    Case { name: "30_3", main_category: 30, sub_category: 3 },
    Case { name: "35_1", main_category: 35, sub_category: 1 },
    Case { name: "35_2", main_category: 35, sub_category: 2 },
    Case { name: "35_3", main_category: 35, sub_category: 3 },
    Case { name: "35_4", main_category: 35, sub_category: 4 },
    Case { name: "35_5", main_category: 35, sub_category: 5 },
    Case { name: "35_6", main_category: 35, sub_category: 6 },
    Case { name: "35_7", main_category: 35, sub_category: 7 },
    Case { name: "35_8", main_category: 35, sub_category: 8 },
    Case { name: "40_1", main_category: 40, sub_category: 1 },
    Case { name: "40_2", main_category: 40, sub_category: 2 },
    Case { name: "40_3", main_category: 40, sub_category: 3 },
    Case { name: "40_4", main_category: 40, sub_category: 4 },
    Case { name: "40_5", main_category: 40, sub_category: 5 },
    Case { name: "40_6", main_category: 40, sub_category: 6 },
    Case { name: "40_7", main_category: 40, sub_category: 7 },
    Case { name: "40_8", main_category: 40, sub_category: 8 },
    Case { name: "40_9", main_category: 40, sub_category: 9 },
    Case { name: "40_10", main_category: 40, sub_category: 10 },
    Case { name: "45_1", main_category: 45, sub_category: 1 },
    Case { name: "45_2", main_category: 45, sub_category: 2 },
    Case { name: "45_3", main_category: 45, sub_category: 3 },
    Case { name: "45_4", main_category: 45, sub_category: 4 },
    Case { name: "50_1", main_category: 50, sub_category: 1 },
    Case { name: "50_2", main_category: 50, sub_category: 2 },
    Case { name: "50_3", main_category: 50, sub_category: 3 },
    Case { name: "50_4", main_category: 50, sub_category: 4 },
    Case { name: "55_1", main_category: 55, sub_category: 1 },
    Case { name: "55_2", main_category: 55, sub_category: 2 },
    Case { name: "55_3", main_category: 55, sub_category: 3 },
    Case { name: "55_4", main_category: 55, sub_category: 4 },
    Case { name: "55_5", main_category: 55, sub_category: 5 },
    Case { name: "55_6", main_category: 55, sub_category: 6 },
    Case { name: "55_7", main_category: 55, sub_category: 7 },
    Case { name: "55_8", main_category: 55, sub_category: 8 },
    Case { name: "60_1", main_category: 60, sub_category: 1 },
    Case { name: "60_2", main_category: 60, sub_category: 2 },
    Case { name: "60_3", main_category: 60, sub_category: 3 },
    Case { name: "60_4", main_category: 60, sub_category: 4 },
    Case { name: "60_5", main_category: 60, sub_category: 5 },
    Case { name: "60_6", main_category: 60, sub_category: 6 },
    Case { name: "60_7", main_category: 60, sub_category: 7 },
    Case { name: "60_8", main_category: 60, sub_category: 8 },
    Case { name: "65_1", main_category: 65, sub_category: 1 },
    Case { name: "65_2", main_category: 65, sub_category: 2 },
    Case { name: "65_3", main_category: 65, sub_category: 3 },
    Case { name: "65_4", main_category: 65, sub_category: 4 },
    Case { name: "65_5", main_category: 65, sub_category: 5 },
    Case { name: "65_6", main_category: 65, sub_category: 6 },
    Case { name: "65_7", main_category: 65, sub_category: 7 },
    Case { name: "65_9", main_category: 65, sub_category: 9 },
    Case { name: "65_10", main_category: 65, sub_category: 10 },
    Case { name: "65_11", main_category: 65, sub_category: 11 },
    Case { name: "65_12", main_category: 65, sub_category: 12 },
    Case { name: "65_13", main_category: 65, sub_category: 13 },
    Case { name: "70_1", main_category: 70, sub_category: 1 },
    Case { name: "70_2", main_category: 70, sub_category: 2 },
    Case { name: "70_3", main_category: 70, sub_category: 3 },
    Case { name: "70_4", main_category: 70, sub_category: 4 },
    Case { name: "70_5", main_category: 70, sub_category: 5 },
    Case { name: "70_6", main_category: 70, sub_category: 6 },
    Case { name: "70_7", main_category: 70, sub_category: 7 },
    Case { name: "70_8", main_category: 70, sub_category: 8 },
    Case { name: "70_9", main_category: 70, sub_category: 9 },
    Case { name: "75_1", main_category: 75, sub_category: 1 },
    Case { name: "75_2", main_category: 75, sub_category: 2 },
    Case { name: "75_3", main_category: 75, sub_category: 3 },
    Case { name: "75_4", main_category: 75, sub_category: 4 },
    Case { name: "75_5", main_category: 75, sub_category: 5 },
    Case { name: "75_6", main_category: 75, sub_category: 6 },
    Case { name: "80_1", main_category: 80, sub_category: 1 },
    Case { name: "80_2", main_category: 80, sub_category: 2 },
    Case { name: "80_3", main_category: 80, sub_category: 3 },
    Case { name: "80_4", main_category: 80, sub_category: 4 },
    Case { name: "80_5", main_category: 80, sub_category: 5 },
    Case { name: "80_6", main_category: 80, sub_category: 6 },
    Case { name: "80_7", main_category: 80, sub_category: 7 },
    Case { name: "80_8", main_category: 80, sub_category: 8 },
    Case { name: "80_9", main_category: 80, sub_category: 9 },
    Case { name: "85_1", main_category: 85, sub_category: 1 },
    Case { name: "85_2", main_category: 85, sub_category: 2 },
    Case { name: "85_3", main_category: 85, sub_category: 3 },
    Case { name: "85_4", main_category: 85, sub_category: 4 },
    Case { name: "85_5", main_category: 85, sub_category: 5 },
    Case { name: "85_6", main_category: 85, sub_category: 6 },
];
